\documentclass[12pt, a4paper, oneside]{scrartcl}

\usepackage{array}
\usepackage{version}
\usepackage{txfonts}
\usepackage{scrlayer-scrpage}
\usepackage{lastpage}
\usepackage{refcount}
\usepackage{todonotes}
\usepackage{fancyvrb}
\usepackage{pgf-umlsd}
\usepackage{pifont}
\usepackage[ngerman]{babel}
\usepackage[T1]{fontenc}

\foreach \i in {points1, points2, points3, points4, points5, points6, points7, points8, points9} {
	\newcounter{\i}\setcounter{\i}{0}
}

\newcounter{pointsTotal}\setcounter{pointsTotal}{0}
\newcounter{questionCount}\setcounter{questionCount}{0}
\newcounter{subquestionCount}
\newcounter{pointsCurrentQuestion}
\newcounter{pointsCurrentSubquestion}

\newcommand{\xmark}{\ding{55}}
\renewcommand{\labelenumi}{(\alph{enumi})}
\setlength{\parindent}{0cm}

\newcommand{\save}[2]{
	\begingroup
		\expandafter\def\csname the#1\endcsname{\number\csname c@#1\endcsname}
		\addtocounter{#1}{-1}\refstepcounter{#1}\label{#2}
	\endgroup}

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newenvironment{question}[1]
{
	\setcounter{subquestionCount}{0}
	\setcounter{pointsCurrentQuestion}{#1}
	\setcounter{pointsTotal}{\value{pointsTotal}+\value{pointsCurrentQuestion}}

	\textbf{\sffamily Question \refstepcounter{questionCount}\arabic{questionCount}. }
	\ifthenelse{\value{questionCount}=1}{\newcommand{\pointsText}{\ref{points1S}}}{}
	\ifthenelse{\value{questionCount}=2}{\newcommand{\pointsText}{\ref{points2S}}}{}
	\ifthenelse{\value{questionCount}=3}{\newcommand{\pointsText}{\ref{points3S}}}{}
	\ifthenelse{\value{questionCount}=4}{\newcommand{\pointsText}{\ref{points4S}}}{}
	\ifthenelse{\value{questionCount}=5}{\newcommand{\pointsText}{\ref{points5S}}}{}
	\ifthenelse{\value{questionCount}=6}{\newcommand{\pointsText}{\ref{points6S}}}{}
	\ifthenelse{\value{questionCount}=7}{\newcommand{\pointsText}{\ref{points7S}}}{}
	\ifthenelse{\value{questionCount}=8}{\newcommand{\pointsText}{\ref{points8S}}}{}
	\ifthenelse{\value{questionCount}=9}{\newcommand{\pointsText}{\ref{points9S}}}{}
	\hfill($\pointsText$ Points)\\

	\begin{flushright}
		\vspace{-0.7cm}
		\Large
		\fbox{~~~~~~ / \pointsText}
		\vspace{-0.3cm}
	\end{flushright}

	\foreach \i/\j in {points1/1, points2/2, points3/3, points4/4, points5/5, points6/6, points7/7, points8/8, points9/9} {
		\ifnum\value{questionCount}=\j
			\setcounter{\i}{\value{pointsCurrentQuestion}}
		\fi
	}
}

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newenvironment{subquestion}[1]
{  	
	\stepcounter{subquestionCount}
	\setcounter{pointsCurrentSubquestion}{#1}
	\setcounter{pointsTotal}{\value{pointsTotal}+\value{pointsCurrentSubquestion}}

	\foreach \i/\j in {points1/1, points2/2, points3/3, points4/4, points5/5, points6/6, points7/7, points8/8, points9/9} {
		\ifnum\value{questionCount}=\j
			\ifnum\value{subquestionCount}=1
				\addtocounter{pointsTotal}{-\value{\i}}
				\setcounter{\i}{0}
			\fi
			\addtocounter{\i}{\value{pointsCurrentSubquestion}}
		\fi
	}
}
{
	\begin{flushright}
	\vspace{-0.7cm}
	\large
	\fbox{~~~~~~ / \thepointsCurrentSubquestion}
	\vspace{-0.3cm}
	\end{flushright}
}