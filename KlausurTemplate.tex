\documentclass[12pt, a4paper, oneside]{scrartcl}

\usepackage{array}
\usepackage{version}
\usepackage{txfonts}
\usepackage{scrlayer-scrpage}
\usepackage{lastpage}
\usepackage{refcount}
\usepackage{todonotes}
\usepackage{fancyvrb}
\usepackage{pgf-umlsd}
\usepackage{pifont}
\usepackage[ngerman]{babel}

%% Hier Details zur Prüfung angeben %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newboolean{mitloesung} \setboolean{mitloesung}{false}                  %% Ob die Musterlösung ausgegeben werden soll
\newboolean{mitlernzielen}\setboolean{mitlernzielen}{false}                 %% Ob die Lernziele ausgegeben werden soll (nur mit Lösung)
%\newboolean{punkteZaehlen}\setboolean{punkteZaehlen}{true}%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%KANN WEG -> Wird noch im Deckblatt verwendet

 \def\klausurname{Foundations of Linked Data}  %% Der Name der Prüfung
 \def\klausurdatum{17.02.2022}             %% Das Datum, an dem die Prüfung stattfindet
 \def\klausursemester{Winter 2021/22}              %% Das Semester, in dem die Prüfung stattfindet
 \def\klausurminuten{60}                         %% Dauer der Klausur
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\xmark}{\ding{55}}
\setlength{\parindent}{0cm}
\renewcommand{\labelenumi}{(\alph{enumi})}

\newcounter{nAufgabe}
\setcounter{nAufgabe}{0}

\newcounter{aufgabe1punkte}\setcounter{aufgabe1punkte}{0}
\newcounter{aufgabe2punkte}\setcounter{aufgabe2punkte}{0}
\newcounter{aufgabe3punkte}\setcounter{aufgabe3punkte}{0}
\newcounter{aufgabe4punkte}\setcounter{aufgabe4punkte}{0}
\newcounter{aufgabe5punkte}\setcounter{aufgabe5punkte}{0}
\newcounter{aufgabe6punkte}\setcounter{aufgabe6punkte}{0}
\newcounter{aufgabe7punkte}\setcounter{aufgabe7punkte}{0}
\newcounter{aufgabe8punkte}\setcounter{aufgabe8punkte}{0}
\newcounter{aufgabe9punkte}\setcounter{aufgabe9punkte}{0}
\newcounter{sumNumText}
\newcounter{zwischSum}

\newcounter{sumhelp}
\newcounter{sumGesamt}
\setcounter{sumGesamt}{0}
\newcommand{\sumText}{}

%% TEILAUFGABE-Umgebung%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \newenvironment{teilaufgabe}[1]
  	{  	
  		\setcounter{sumGesamt}{\thesumGesamt+#1}
		\setcounter{zwischSum}{#1}
		
		\ifnum\thenAufgabe=1
			\addtocounter{aufgabe1punkte}{#1}
		\fi
		\ifnum\thenAufgabe=2
			\addtocounter{aufgabe2punkte}{#1}
		\fi
		\ifnum\thenAufgabe=3
			\addtocounter{aufgabe3punkte}{#1}
		\fi
		\ifnum\thenAufgabe=4
			\addtocounter{aufgabe4punkte}{#1}
		\fi
		\ifnum\thenAufgabe=5
			\addtocounter{aufgabe5punkte}{#1}
		\fi
		\ifnum\thenAufgabe=6
			\addtocounter{aufgabe6punkte}{#1}
		\fi
		\ifnum\thenAufgabe=7
			\addtocounter{aufgabe7punkte}{#1}
		\fi
		\ifnum\thenAufgabe=8
			\addtocounter{aufgabe8punkte}{#1}
		\fi
		\ifnum\thenAufgabe=9
			\addtocounter{aufgabe9punkte}{#1}
		\fi
	}
	{
		\begin{flushright}
		\vspace{-0.7cm}
		\large
		\fbox{~~~~~~ / \thezwischSum}
		\vspace{-0.3cm}
		\end{flushright}
	}%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% AUFGABE-Umgebung%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newenvironment{aufgabe}[9][]
{

\setcounter{sumhelp}{#2+#3+#4+#5+#6+#7+#8+#9}

\ifnum#2>0
	\renewcommand{\sumText}{}
	\ifnum#3>0
		\renewcommand{\sumText}{#2+#3=}
		\ifnum#4>0
			\renewcommand{\sumText}{#2+#3+#4=}
			\ifnum#5>0
				\renewcommand{\sumText}{#2+#3+#4+#5=}
				\ifnum#6>0
					\renewcommand{\sumText}{#2+#3+#4+#5+#6=}
					\ifnum#7>0
						\renewcommand{\sumText}{#2+#3+#4+#5+#6+#7=}
						\ifnum#8>0
							\renewcommand{\sumText}{#2+#3+#4+#5+#6+#7+#8=}
							\ifnum#9>0
								\renewcommand{\sumText}{#2+#3+#4+#5+#6+#7+#8+#9=}
\fi\fi\fi\fi\fi\fi\fi\fi

\setcounter{sumGesamt}{\thesumGesamt+\thesumhelp}

\textbf{\sffamily Question \refstepcounter{nAufgabe}\arabic{nAufgabe}. }
\ifthenelse{\value{nAufgabe}=1}{\newcommand{\sumNumText}{\ref{Punkte1}}}{}
\ifthenelse{\value{nAufgabe}=2}{\newcommand{\sumNumText}{\ref{Punkte2}}}{}
\ifthenelse{\value{nAufgabe}=3}{\newcommand{\sumNumText}{\ref{Punkte3}}}{}
\ifthenelse{\value{nAufgabe}=4}{\newcommand{\sumNumText}{\ref{Punkte4}}}{}
\ifthenelse{\value{nAufgabe}=5}{\newcommand{\sumNumText}{\ref{Punkte5}}}{}
\ifthenelse{\value{nAufgabe}=6}{\newcommand{\sumNumText}{\ref{Punkte6}}}{}
\ifthenelse{\value{nAufgabe}=7}{\newcommand{\sumNumText}{\ref{Punkte7}}}{}
\ifthenelse{\value{nAufgabe}=8}{\newcommand{\sumNumText}{\ref{Punkte8}}}{}
\ifthenelse{\value{nAufgabe}=9}{\newcommand{\sumNumText}{\ref{Punkte9}}}{}
\hfill($\sumText \sumNumText$ Points)\\

\begin{flushright}
\vspace{-0.7cm}
\Large
\fbox{~~~~~~ / \sumNumText}
\vspace{-0.3cm}
\end{flushright}

\ifnum\thenAufgabe=1
\setcounter{aufgabe1punkte}{\thesumhelp}
\fi
\ifnum\thenAufgabe=2
\setcounter{aufgabe2punkte}{\thesumhelp}
\fi
\ifnum\thenAufgabe=3
\setcounter{aufgabe3punkte}{\thesumhelp}
\fi
\ifnum\thenAufgabe=4
\setcounter{aufgabe4punkte}{\thesumhelp}
\fi
\ifnum\thenAufgabe=5
\setcounter{aufgabe5punkte}{\thesumhelp}
\fi
\ifnum\thenAufgabe=6
\setcounter{aufgabe6punkte}{\thesumhelp}
\fi
\ifnum\thenAufgabe=7
\setcounter{aufgabe7punkte}{\thesumhelp}
\fi
\ifnum\thenAufgabe=8
\setcounter{aufgabe8punkte}{\thesumhelp}
\fi
\ifnum\thenAufgabe=9
\setcounter{aufgabe9punkte}{\thesumhelp}
\fi

}%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\sichermich}[2]{
 \begingroup
 \expandafter\def\csname the#1\endcsname{\number\csname c@#1\endcsname}%
 \addtocounter{#1}{-1}\refstepcounter{#1}\label{#2}%
 \endgroup}

\ihead{\klausurname\ -- Exam \klausurdatum\ -- \klausursemester\ -- 
\ifthenelse{\boolean{mitloesung}}
{\ref{maxAufgaben} Aufg./\pageref{LastPage} Seiten}
{Mat.No.:}}
\ohead{\pagemark}
\cfoot{~}
\setheadsepline{.4pt}

\ifthenelse{\boolean{mitloesung}}
  {
  \includeversion{loesung}
  \excludeversion{nichtloesung}}
  {
  \includeversion{nichtloesung}
  \excludeversion{loesung}}

\ifthenelse{\boolean{mitlernzielen}}
  {
	\ifthenelse{\boolean{mitloesung}}
		{\includeversion{lernziel}}
		{\excludeversion{lernziel}}}
  {\excludeversion{lernziel}}

\begin{document}

\begin{loesung}
\newcounter{gesPunkteNum}
\setcounterref{gesPunkteNum}{Gesamtpunkte}
~
	\vspace{5cm}
	\begin{center}
		\Large
		Lösung
		
		\bigbreak
		(\thegesPunkteNum\ Points)
		
		\normalsize
	\end{center}
	\newpage
\end{loesung}

\begin{nichtloesung}
	\input{deckblatt.tex}
 	\setcounter{page}{0}
\end{nichtloesung}


 
%%%%%%%%%%%%%%%%%%% Hier Aufgaben einfügen %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{Aufgabe1.tex}
\input{Aufgabe2.tex} 
\input{Aufgabe3.tex}
%\input{Aufgabe4.tex}
%\input{Aufgabe5.tex}
%\input{Aufgabe6.tex} 
%\input{Aufgabe7.tex} 
%\input{Aufgabe8.tex} 
%\input{Aufgabe9.tex} 
 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

 \sichermich{nAufgabe}{maxAufgaben}
 \sichermich{sumGesamt}{Gesamtpunkte}
 \sichermich{aufgabe1punkte}{Punkte1}
 \sichermich{aufgabe2punkte}{Punkte2}
 \sichermich{aufgabe3punkte}{Punkte3}
 \sichermich{aufgabe4punkte}{Punkte4}
 \sichermich{aufgabe5punkte}{Punkte5}
 \sichermich{aufgabe6punkte}{Punkte6}
 \sichermich{aufgabe7punkte}{Punkte7}
 \sichermich{aufgabe8punkte}{Punkte8}
 \sichermich{aufgabe9punkte}{Punkte9}

\begin{nichtloesung}
\newpage\null\newpage\null\newpage
\end{nichtloesung}
\end{document}
